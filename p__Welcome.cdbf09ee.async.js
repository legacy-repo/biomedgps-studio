(self.webpackChunkbiomedgps_studio=self.webpackChunkbiomedgps_studio||[]).push([[781],{98361:function(X,U,e){"use strict";var p=e(13254),u=e(14277),D=e(2824),E=e(43358),I=e(34041),d=e(96486),w=e.n(d),h=e(67294),j=e(85893),m=I.Z.Option,O,x;function y(a,s,_){console.log("makeQueryStr filter: ",_);var c=":select [:*]",n="",f="";if(s){var v=Object.keys(s)[0],A=Object.values(s)[0];v&&A&&(A==="ascend"?n=":order-by [:".concat(v,"]"):n=":order-by [[:".concat(v," :desc]]"))}if(a){for(var M=[],T=0,C=Object.keys(a);T<C.length;T++){var P=C[T];["current","pageSize"].indexOf(P)<0&&a[P].length>0&&M.push("[:like [:upper :".concat(P,'] [:upper "%').concat(a[P],'%"]]'))}M.length==1?f=":where ".concat(M[0]):M.length>1&&(f=":where [:or ".concat(M.join(" "),"]"))}return"{".concat(c," ").concat(n," ").concat(f,"}")}var g=function(s){var _=s.queryGenes,c=s.initialValue,n=s.dataset,f=(0,h.useState)([]),v=(0,D.Z)(f,2),A=v[0],M=v[1],T=(0,h.useState)([]),C=(0,D.Z)(T,2),P=C[0],t=C[1],K=(0,h.useState)(),N=(0,D.Z)(K,2),R=N[0],i=N[1];(0,h.useEffect)(function(){c&&c!==R&&(i(c),L(c,function(W){t(W),F(c,{})}))},[c]);var L=function(l,H){O&&(clearTimeout(O),O=null),x=l;var b=function(){_({query_str:y({gene_symbol:l,ensembl_id:l,entrez_id:l},{},{}),dataset:n}).then(function(B){if(x===l){var S=B.data,Q=S.map(function(G){return{value:G.ensembl_id,text:"".concat(G.gene_symbol," | ").concat(G.entrez_id," | ").concat(G.ensembl_id)}});H(Q),M(S)}}).catch(function(B){console.log("requestDEGs Error: ",B),H([])})};O=setTimeout(b,300)},z=function(l){l?L(l,t):t([])},F=function(l,H){if(i(l),console.log("GeneSearcher handleChange: ",l),l&&typeof l=="string"){var b,k=(0,d.filter)(A,function(S){return l.match(/ENS/i)?S.ensembl_id==l:l.match(/[a-zA-Z][a-zA-Z0-9]+/i)?S.gene_symbol==l:l.match(/[0-9]+/i)?S.entrez_id.toString()==l:!1});console.log("handleChange(GeneSearcher): ",k,A),(b=s.onChange)===null||b===void 0||b.call(s,l,k[0])}else{var B;(B=s.onChange)===null||B===void 0||B.call(s,l,void 0)}},Y=P.map(function(W){return(0,j.jsx)(m,{children:W.text},W.value)});return(0,j.jsx)(I.Z,{allowClear:!0,showSearch:!0,value:R,placeholder:s==null?void 0:s.placeholder,style:s.style,defaultActiveFirstOption:!1,showArrow:!0,filterOption:!1,onSearch:z,onChange:F,mode:s!=null&&s.mode?s==null?void 0:s.mode:"single",notFoundContent:(0,j.jsx)(u.Z,{description:"Searching ..."}),children:Y})};U.Z=g},23082:function(X,U,e){"use strict";var p=e(13254),u=e(14277),D=e(2824),E=e(67294),I=e(70445),d=e(10913),w=e(63183),h=e.n(w),j=e(78777),m=e(99251),O=e(33835),x=e(10043),y=e.n(x),g=e(22275),a=e(95093),s=e(85893),_=function(n){var f=n.url,v=n.getFile,A=n.enableToc,M=function(R){if(R.match(/^(minio|file):\/\//))return v?v({filelink:R}).then(function(i){return i}).catch(function(i){return i.data.msg?i.data.msg:i.data}):new Promise(function(i,L){i("Please specify getFile function.")});try{return(0,a.Z)(R).then(function(i){return i.status!==200?"No Content.":i.data})}catch(i){return console.log("Cannot fetch ".concat(R,", the reason is ").concat(i)),new Promise(function(L,z){z("No Content.")})}},T=(0,E.useState)(null),C=(0,D.Z)(T,2),P=C[0],t=C[1];(0,E.useEffect)(function(){f&&M(f).then(function(N){return t(N||null)})},[f]),console.log("MarkdownViewer: updated");var K=[];return A?K=[d.Z,m.Z,h(),O.Z,j.Z]:K=[d.Z,m.Z,O.Z,j.Z],P?(0,s.jsx)(I.D,{rehypePlugins:K,className:"markdown-viewer",remarkPlugins:[y(),g.Z],children:P},f):(0,s.jsx)(u.Z,{})};U.Z=(0,E.memo)(_)},25990:function(X,U,e){"use strict";e.r(U);var p=e(57338),u=e(273),D=e(18106),E=e(63885),I=e(13062),d=e(71230),w=e(71153),h=e(60331),j=e(89032),m=e(15746),O=e(34792),x=e(48086),y=e(2824),g=e(67294),a=e(74310),s=e(96486),_=e.n(s),c=e(51615),n=e(19611),f=e(30143),v=e(88906),A=e(98361),M=e(70543),T=e(10615),C=e(23082),P=e(14066),t=e(85893),K=function(){var R=(0,c.k6)(),i=(0,g.useState)(!1),L=(0,y.Z)(i,2),z=L[0],F=L[1],Y=(0,g.useState)(""),W=(0,y.Z)(Y,2),l=W[0],H=W[1],b=(0,g.useState)(""),k=(0,y.Z)(b,2),B=k[0],S=k[1],Q=(0,g.useState)("rapex-cookie-consent-form"),G=(0,y.Z)(Q,2),J=G[0],ue=G[1],q=(0,g.useState)(void 0),$=(0,y.Z)(q,2),ee=$[0],te=$[1],ae=(0,a.tT)("dataset",function(o){return{defaultDataset:o.defaultDataset,setDataset:o.setDataset}}),se=ae.defaultDataset;(0,g.useEffect)(function(){var o=f.LJ.get(J);te(o==="true"),console.log("Cookie Status: ",o,typeof o,ee),o&&V()},[]);var V=function(){var r=document.createElement("script");r.setAttribute("src","//rf.revolvermaps.com/0/0/5.js?i=506fpu66up3&amp;m=0&amp;c=ff0000&amp;cr1=ffffff"),r.setAttribute("async","async");var Z=document.getElementsByTagName("body")[0];Z.appendChild(r)},ne=[{label:(0,t.jsx)(a._H,{id:"pages.Welcome.single-gene-analysis",defaultMessage:"Search Gene"}),key:"single-gene-analysis",visible:!0},{label:(0,t.jsx)(a._H,{id:"pages.Welcome.multiple-genes-analysis",defaultMessage:"Multiple Genes Analysis"}),key:"multiple-genes-analysis",visible:!1,data:[]},{label:(0,t.jsx)(a._H,{id:"pages.Welcome.custom-data-analysis",defaultMessage:"Custom Data Analysis"}),key:"custom-data-analysis",visible:!1,data:[]},{label:(0,t.jsx)(a._H,{id:"pages.Welcome.knowledge-graph",defaultMessage:"Knowledge Graph"}),key:"knowledge-graph",visible:!1,data:[]},{label:(0,t.jsx)(a._H,{id:"pages.Welcome.datasets",defaultMessage:"Datasets"}),key:"dataset",visible:!1,data:[]}],re=(0,s.filter)(ne,function(o){return o.visible}),le=[{title:(0,t.jsx)(a._H,{id:"pages.Welcome.multiple-genes-analysis",defaultMessage:"Multiple Genes"}),route:"/expression-analysis/multiple-genes"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.kegg-pathways",defaultMessage:"KEGG Pathway"}),route:"/expression-analysis/kegg-pathways"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.diff-genes",defaultMessage:"Diff Genes"}),route:"/custom-analysis/differential-expression-analysis"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.boxplot",defaultMessage:"Boxplot"}),route:"/custom-analysis/gene-expression-profile?chart=boxplot"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.barplot",defaultMessage:"Barplot"}),route:"/custom-analysis/gene-expression-profile?chart=barplot"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.boxplot-organs",defaultMessage:"Across Organs on Boxplot"}),route:"/custom-analysis/gene-expression-profile?chart=boxplot-organs"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.barplot-organs",defaultMessage:"Across Organs on Barplot"}),route:"/custom-analysis/gene-expression-profile?chart=barplot-organs"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.correlation-analysis",defaultMessage:"Correlation Analysis"}),route:"/custom-analysis/gene-expression-profile?chart=correlation-analysis"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.similar-genes-detection",defaultMessage:"Similar Genes Detection"}),route:"/custom-analysis/similar-genes-detection"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.knowledge-graph",defaultMessage:"Knowledge Graph"}),route:"/knowledge-graph"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.datasets",defaultMessage:"Datasets"}),route:"/datasets"}],oe=[{src:"/examples/0.png",title:"Multi-omics Data"},{src:"/examples/1.png",title:"Knowledge Graph & Statistics"},{src:"/examples/2.png",title:"Interactive Charts"}],ie=[{title:(0,t.jsx)(a._H,{id:"pages.Welcome.datasets",defaultMessage:"Datasets"}),key:"datasets",stat:"18"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.organs",defaultMessage:"Organs"}),key:"organs",stat:"11"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.samples",defaultMessage:"Samples"}),key:"samples",stat:"2,494"},{title:(0,t.jsx)(a._H,{id:"pages.Welcome.publications",defaultMessage:"Curated Publications"}),key:"publications",stat:"1,000"}],_e=function(r){r&&typeof r=="string"?R.push("/expression-analysis/single-gene?ensemblId=".concat(r)):x.ZP.warn("Unknown error, please contact administrators.")},ce=function(r){var Z=r.target.parentNode.parentNode.id||r.target.parentNode.id;console.log("onClickOrgan: ",r,Z),["lung","liver","gut","thyroid","brain","testis","heart","kidney"].indexOf(Z)>=0&&(F(!0),H(Z),S("/README/".concat(Z,".md")))},de="RAPEX is an open-source platform comprising various transcriptome datasets and analyzing tools, as well as a knowledge graph providing a multi-omics network linking vast other factors related to the research questions.";return(0,t.jsxs)(d.Z,{className:"welcome",children:[(0,t.jsxs)(m.Z,{className:"logo-container",children:[(0,t.jsx)("img",{alt:"logo",src:"/logo.png",className:"logo"}),(0,t.jsx)("span",{children:"RAPEX - Response to Air Pollution EXposure"})]}),(0,t.jsx)(m.Z,{className:"search-container",children:(0,t.jsx)(E.Z,{children:re.map(function(o){return(0,t.jsx)(E.Z.TabPane,{tab:o.label,children:o.key==="single-gene-analysis"?(0,t.jsxs)(d.Z,{className:"gene-searcher-box",children:[(0,t.jsxs)(d.Z,{className:"search-box",children:[(0,t.jsx)("span",{className:"title",children:"Enter gene symbol, ensembl id or entrez id"}),(0,t.jsx)(A.Z,{dataset:se,queryGenes:M.hX,placeholder:"e.g Trp53 / ENSMUSG00000059552 / 22059",style:{width:"100%"},onChange:_e}),(0,t.jsx)("div",{className:"tag-container",children:le.map(function(r){return(0,t.jsx)(n.rU,{to:r.route,children:(0,t.jsx)(h.Z,{color:"#108ee9",children:r.title},r.route)},r.route)})})]}),(0,t.jsx)(d.Z,{className:"text-statistics",children:ie.map(function(r){return(0,t.jsxs)(m.Z,{span:6,className:"stat-item",children:[(0,t.jsx)("span",{children:r.stat}),(0,t.jsx)("span",{className:"title",children:r.title})]},r.key)})}),(0,t.jsxs)(d.Z,{className:"statistics",gutter:16,children:[(0,t.jsxs)(m.Z,{className:"data-stat",md:9,sm:24,xs:9,xxl:9,children:[(0,t.jsx)(v.Q,{src:"/mice-organs.svg",onClick:function(Z){ce(Z)}}),(0,t.jsx)(a._H,{id:"pages.Welcome.description",defaultMessage:de})]}),(0,t.jsx)(m.Z,{className:"image-container",md:15,sm:24,xs:15,xxl:15,children:(0,t.jsx)(T.lr,{autoPlay:!0,dynamicHeight:!0,infiniteLoop:!0,children:oe.map(function(r){return(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{src:r.src}),(0,t.jsx)("p",{className:"legend",children:r.title})]},r.title)})})})]})]}):null},o.key)})})}),(0,t.jsx)(u.Z,{width:"50%",visible:z,className:"organ-details",onClose:function(){H(""),F(!1)},closable:!0,maskClosable:!0,children:(0,t.jsx)(C.Z,{getFile:P.nj,url:B})}),(0,t.jsx)(f.ZP,{location:"bottom",cookieName:J,style:{background:"#2B373B"},enableDeclineButton:!0,buttonStyle:{color:"#4e503b",fontSize:"13px"},expires:150,onAccept:function(){V()},children:"This website uses an toolbox from revolvermaps.com to count the number of visitors, but we don't gather and track your personal information."})]})};U.default=K},70543:function(X,U,e){"use strict";e.d(U,{wr:function(){return I},hX:function(){return w},XR:function(){return j},hs:function(){return O}});var p=e(39428),u=e(11849),D=e(3182),E=e(74310);function I(a,s){return d.apply(this,arguments)}function d(){return d=(0,D.Z)((0,p.Z)().mark(function a(s,_){return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)("/api/v1/dataset/rapex-degs",(0,u.Z)({method:"GET",params:(0,u.Z)({},s)},_||{})));case 1:case"end":return n.stop()}},a)})),d.apply(this,arguments)}function w(a,s){return h.apply(this,arguments)}function h(){return h=(0,D.Z)((0,p.Z)().mark(function a(s,_){return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)("/api/v1/dataset/rapex-genes",(0,u.Z)({method:"GET",params:(0,u.Z)({},s)},_||{})));case 1:case"end":return n.stop()}},a)})),h.apply(this,arguments)}function j(a,s){return m.apply(this,arguments)}function m(){return m=(0,D.Z)((0,p.Z)().mark(function a(s,_){return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)("/api/v1/dataset/rapex-pathways",(0,u.Z)({method:"GET",params:(0,u.Z)({},s)},_||{})));case 1:case"end":return n.stop()}},a)})),m.apply(this,arguments)}function O(a,s){return x.apply(this,arguments)}function x(){return x=(0,D.Z)((0,p.Z)().mark(function a(s,_){return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)("/api/v1/dataset/rapex-similar-genes",(0,u.Z)({method:"GET",params:(0,u.Z)({},s)},_||{})));case 1:case"end":return n.stop()}},a)})),x.apply(this,arguments)}function y(a,s){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function a(s,_){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/rapex-gene-expr-data",_objectSpread({method:"GET",params:_objectSpread({},s)},_||{})));case 1:case"end":return n.stop()}},a)})),g.apply(this,arguments)}}}]);
